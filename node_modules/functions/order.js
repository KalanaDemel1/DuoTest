var crypto = require('crypto');
var rand = require('csprng');
var mongoose = require('mongoose');
var order = require('functions/modelos');
var user = require('functions/models');



exports.Order = function(pno,DestinationLat,DestinationLon,LocationLat,LocationLon,orderID,taxiID,callback) {

        var id = mongoose.Types.ObjectId();

        var order1 = new order({
            "_id": id,
            "pNo": pno,
            "DestinationLat": DestinationLat,
            "DestinationLon": DestinationLon,
            "LocationLat":LocationLat,
            "LocationLon":LocationLon,
            "orderID":orderID,
            "taxiID":taxiID
        });

        order1.save(function (err, data) {
            if (err) {
                console.log(err);
                callback({'response': "Network Error", 'res': true});
            }
            else {
                console.log('Saved : ', data);
                //call sachini searchTaxi Web Service
                //Add response of that to current callback
                callback({'response': "Sent to network", 'res': true});
            }
        });
}





